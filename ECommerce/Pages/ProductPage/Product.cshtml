@page
@model ECommerce.Pages.ProductPage.ProductModel
@{
}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Arizonia&display=swap" rel="stylesheet">
<link rel="stylesheet" href="~/css/index.css" style="text/css" />

<link rel="stylesheet" href="~/css/ProductPageStylesheet.css" />

<div class="">
    <h1 class="display-4 shop-header">Product</h1>
</div>

<hr class="my-4">
<div>

    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h1 class="display-4" id="Name">@Model.product.Name </h1>
                <br />
                <img src="@($"/images/{Model.product.Category}{Model.product.ProductId}.png")" class="img-fluid rounded-3" alt="~/images/sofa1.png" />
            </div>

            <div class="col-md-6">
                <br />
                     <label class="fs-4 mt-5" id="descriptionHead">Description:  </label>
                     <br />
                     <label class="fs-5" id="Description">@Model.product.Description </label>
                     <br />
           
          
                <div class="details">

                    <label class="fs-5" id="price">Price: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Model.product.Price SEK </label>
                                 <br />
                    <label class="fs-5" id="category">Category: &nbsp;&nbsp;@Model.product.Category </label>
                                 <br />
                    <label class="fs-5" id="size">Size: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Model.product.Size </label>
                                 <br />
                </div>
                <div class="row">
                    <div class="details">
                        <div class="col-md-8 d-flex align-items-end mt-4">
                        <input type="number" class="form-control" id="quantity" placeholder="1" </input>
                            <form asp-page-handler="AddToCart" asp-route-id="@Model.product.ProductId">
                                <button class="btn btn-primary" id="addtocartbtn" type="submit">Add</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
             <br />
        </div>
        
    </div> 
    <br />
</div>
<script>
    var quantityInput = document.getElementById("quantity");

    quantityInput.addEventListener("change", function () {

        if (parseInt(this.value) < 1) {

            this.value = 1;
        }
    });
</script>
<script> 
     var addtocartbtn = document.getElementById("addtocartbtn");
    addtocartbtn.addEventListener("click", function () {
        var quantity = document.getElementById("quantity").value;
        var productId = @Model.product.ProductId;
        var url = "/ShoppingCartPage/ShoppingCart?handler=AddToCart&productId=" + productId + "&quantity=" + quantity;
        
    });
</script>
